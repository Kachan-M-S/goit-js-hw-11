{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export function fetchImages(query, apiKey) {\n  const BASE_URL = 'https://pixabay.com/api/';\n  const params = {\n    key: apiKey,\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  };\n\n  const queryString = new URLSearchParams(params).toString();\n  const url = `${BASE_URL}?${queryString}`;\n\n  return fetch(url).then(response => {\n    if (!response.ok) {\n      throw new Error(`HTTP error! status: ${response.status}`);\n    }\n    return response.json();\n  });\n}\n","export function renderGallery(images) {\n  return images\n    .map(\n      img => `\n      <a href=\"${img.largeImageURL}\" class=\"gallery-link\">\n        <img src=\"${img.webformatURL}\" alt=\"${img.tags}\" loading=\"lazy\" />\n        <ul class=\"image-info\">\n          <li>Likes <span>${img.likes}</span></li>\n          <li>Views <span>${img.views}</span></li>\n          <li>Comments <span>${img.comments}</span></li>\n          <li>Downloads <span>${img.downloads}</span></li>\n        </ul>\n      </a>`\n    )\n    .join('');\n}\n","import { fetchImages } from './js/pixabay-api.js';\nimport { renderGallery } from './js/render-functions.js';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst form = document.querySelector('#search-form');\nconst loader = document.querySelector('#loader'); \nconst galleryContainer = document.querySelector('#gallery');\nconst API_KEY = '48131456-02178b54d24f02562d64ec2d5';\n\nconst lightbox = new SimpleLightbox('.gallery-link', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\nform.addEventListener('submit', event => {\n  event.preventDefault();\n  galleryContainer.innerHTML = ''; \n  const query = event.currentTarget.elements.searchQuery.value.trim();\n\n  if (!query) {\n    iziToast.warning({\n      message: 'Please enter a search query!',\n      position: 'topRight',\n      timeout: 3000,\n    });\n    galleryContainer.innerHTML = '';\n    form.reset();\n    return;\n  }\nloader.classList.remove('hidden');\n  fetchImages(query, API_KEY)\n    .then(data => {\n      if (data.hits.length === 0) {\n        iziToast.info({\n          message: 'Sorry, there are no images matching your search query. Please try again!',\n          position: 'topRight',\n          timeout: 3000,\n        });\n        galleryContainer.innerHTML = '';\n        form.reset();\n        return;\n      }\n      const galleryMarkup = renderGallery(data.hits);\n      galleryContainer.innerHTML = galleryMarkup;\n      console.log(data);  \n      lightbox.refresh();\n    })\n    .catch(err => {\n      iziToast.error({\n        message: `An error occurred: ${err.message}`,\n        position: 'topRight',\n        timeout: 3000,\n      });\n    })\n   .finally(() => {\n      loader.classList.add('hidden');\n    });\n});\n"],"names":["fetchImages","query","apiKey","BASE_URL","params","queryString","url","response","renderGallery","images","img","form","loader","galleryContainer","API_KEY","lightbox","SimpleLightbox","event","iziToast","data","galleryMarkup","err"],"mappings":"6vBAAO,SAASA,EAAYC,EAAOC,EAAQ,CACzC,MAAMC,EAAW,2BACXC,EAAS,CACb,IAAKF,EACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,EAEQI,EAAc,IAAI,gBAAgBD,CAAM,EAAE,SAAQ,EAClDE,EAAM,GAAGH,CAAQ,IAAIE,CAAW,GAEtC,OAAO,MAAMC,CAAG,EAAE,KAAKC,GAAY,CACjC,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAM,uBAAuBA,EAAS,MAAM,EAAE,EAE1D,OAAOA,EAAS,MACpB,CAAG,CACH,CCnBO,SAASC,EAAcC,EAAQ,CACpC,OAAOA,EACJ,IACCC,GAAO;AAAA,iBACIA,EAAI,aAAa;AAAA,oBACdA,EAAI,YAAY,UAAUA,EAAI,IAAI;AAAA;AAAA,4BAE1BA,EAAI,KAAK;AAAA,4BACTA,EAAI,KAAK;AAAA,+BACNA,EAAI,QAAQ;AAAA,gCACXA,EAAI,SAAS;AAAA;AAAA,WAGxC,EACA,KAAK,EAAE,CACZ,CCRA,MAAMC,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAmB,SAAS,cAAc,UAAU,EACpDC,EAAU,qCAEVC,EAAW,IAAIC,EAAe,gBAAiB,CACnD,aAAc,MACd,aAAc,GAChB,CAAC,EAEDL,EAAK,iBAAiB,SAAUM,GAAS,CACvCA,EAAM,eAAc,EACpBJ,EAAiB,UAAY,GAC7B,MAAMZ,EAAQgB,EAAM,cAAc,SAAS,YAAY,MAAM,OAE7D,GAAI,CAAChB,EAAO,CACViB,EAAS,QAAQ,CACf,QAAS,+BACT,SAAU,WACV,QAAS,GACf,CAAK,EACDL,EAAiB,UAAY,GAC7BF,EAAK,MAAK,EACV,MACD,CACHC,EAAO,UAAU,OAAO,QAAQ,EAC9BZ,EAAYC,EAAOa,CAAO,EACvB,KAAKK,GAAQ,CACZ,GAAIA,EAAK,KAAK,SAAW,EAAG,CAC1BD,EAAS,KAAK,CACZ,QAAS,2EACT,SAAU,WACV,QAAS,GACnB,CAAS,EACDL,EAAiB,UAAY,GAC7BF,EAAK,MAAK,EACV,MACD,CACD,MAAMS,EAAgBZ,EAAcW,EAAK,IAAI,EAC7CN,EAAiB,UAAYO,EAC7B,QAAQ,IAAID,CAAI,EAChBJ,EAAS,QAAO,CACtB,CAAK,EACA,MAAMM,GAAO,CACZH,EAAS,MAAM,CACb,QAAS,sBAAsBG,EAAI,OAAO,GAC1C,SAAU,WACV,QAAS,GACjB,CAAO,CACP,CAAK,EACD,QAAQ,IAAM,CACZT,EAAO,UAAU,IAAI,QAAQ,CACnC,CAAK,CACL,CAAC"}